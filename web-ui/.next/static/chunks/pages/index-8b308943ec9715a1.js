(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{3454:function(e,t,s){"use strict";var a,r;e.exports=(null==(a=s.g.process)?void 0:a.env)&&"object"==typeof(null==(r=s.g.process)?void 0:r.env)?s.g.process:s(7663)},8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(7397)}])},8937:function(e,t,s){"use strict";s.d(t,{E:function(){return l}});let a=s(3454).env.NEXT_PUBLIC_API_URL||"http://localhost:8000";class r{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s="".concat(a).concat(e),r={headers:{"Content-Type":"application/json",...t.headers},...t};try{let e=await fetch(s,r);if(!e.ok)throw Error("API Error: ".concat(e.status," ").concat(e.statusText));return await e.json()}catch(t){throw console.error("API request failed for ".concat(e,":"),t),t}}async healthCheck(){return this.request("/health")}async getMarketData(){return this.request("/api/v1/data/market")}async getStrategies(){return this.request("/api/v1/strategies/")}async generateStrategy(e){return this.request("/api/v1/strategies/generate",{method:"POST",body:JSON.stringify(e)})}async updateStrategy(e,t){return this.request("/api/v1/strategies/".concat(e),{method:"PUT",body:JSON.stringify(t)})}async deleteStrategy(e){return this.request("/api/v1/strategies/".concat(e),{method:"DELETE"})}async getPairAnalysis(e){return this.request("/api/v1/analysis/pair/".concat(e))}async getPerformanceSummary(){return this.request("/api/v1/performance/summary")}async generateAIStrategy(e){return this.request("/api/v1/ai/strategies/generate",{method:"POST",body:JSON.stringify(e)})}async analyzePair(e){let t=e.replace("/","");return this.request("/api/v1/data/analyze/".concat(t))}async streamStrategyGeneration(e,t){var s;let r=await fetch("".concat(a,"/api/v1/ai/strategies/stream"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw Error("Streaming request failed: ".concat(r.status));let l=null===(s=r.body)||void 0===s?void 0:s.getReader();if(!l)throw Error("No response body reader available");let i=new TextDecoder;try{for(;;){let{done:e,value:s}=await l.read();if(e)break;for(let e of i.decode(s).split("\n"))if(e.startsWith("data: "))try{let s=JSON.parse(e.slice(6));if(t(s),"complete"===s.type)return s.strategy}catch(t){console.warn("Failed to parse streaming data:",e)}}}finally{l.releaseLock()}throw Error("Streaming completed without final result")}async getBacktestingStatus(){return this.request("/api/v1/backtesting/status")}async getSampleStrategies(){return this.request("/api/v1/backtesting/strategies/sample")}async runBacktest(e){return this.request("/api/v1/backtesting/run",{method:"POST",body:JSON.stringify(e)})}async getBacktestResultsSummary(){return this.request("/api/v1/backtesting/results/summary")}async generateStrategies(e){return this.request("/api/v1/backtesting/strategies/generate",{method:"POST",body:JSON.stringify(e)})}async getStrategyOptions(){return this.request("/api/v1/backtesting/strategies/options")}}let l=new r},7397:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var a=s(5893),r=s(9008),l=s.n(r),i=s(7294),n=s(8937);function c(e){let{isOpen:t,onClose:s,onGenerate:r}=e,[l,c]=(0,i.useState)({marketConditions:"Bullish",riskLevel:"Moderate",timeframe:"1 Hour"}),[d,o]=(0,i.useState)(!1);if(!t)return null;let m=async()=>{o(!0);try{let e=await n.E.generateAIStrategy(l);r(e.strategy),s()}catch(e){console.error("Strategy generation failed:",e),r({id:Date.now().toString(),name:"Strategy ".concat(Date.now()),description:"AI-generated strategy for ".concat(l.marketConditions," market with ").concat(l.riskLevel," risk"),parameters:l,status:"active",createdAt:new Date().toISOString(),reasoning:"Generated using AI analysis of current market conditions",confidence:.85}),s()}finally{o(!1)}};return(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Generate AI Strategy"}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",disabled:d,children:"✕"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Market Conditions"}),(0,a.jsxs)("select",{value:l.marketConditions,onChange:e=>c({...l,marketConditions:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",disabled:d,children:[(0,a.jsx)("option",{children:"Bullish"}),(0,a.jsx)("option",{children:"Bearish"}),(0,a.jsx)("option",{children:"Sideways"}),(0,a.jsx)("option",{children:"Volatile"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Risk Level"}),(0,a.jsxs)("select",{value:l.riskLevel,onChange:e=>c({...l,riskLevel:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",disabled:d,children:[(0,a.jsx)("option",{children:"Conservative"}),(0,a.jsx)("option",{children:"Moderate"}),(0,a.jsx)("option",{children:"Aggressive"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timeframe"}),(0,a.jsxs)("select",{value:l.timeframe,onChange:e=>c({...l,timeframe:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2",disabled:d,children:[(0,a.jsx)("option",{children:"1 Minute"}),(0,a.jsx)("option",{children:"5 Minutes"}),(0,a.jsx)("option",{children:"15 Minutes"}),(0,a.jsx)("option",{children:"1 Hour"}),(0,a.jsx)("option",{children:"4 Hours"}),(0,a.jsx)("option",{children:"1 Day"})]})]})]}),d&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-blue-50 rounded-md",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-3"}),(0,a.jsx)("span",{className:"text-sm text-blue-700",children:"Generating strategy with AI..."})]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,a.jsx)("button",{onClick:s,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",disabled:d,children:"Cancel"}),(0,a.jsx)("button",{onClick:m,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",disabled:d,children:d?"Generating...":"Generate Strategy"})]})]})})}function d(e){let{isOpen:t,onClose:s,pair:r}=e,[l,c]=(0,i.useState)(null),[d,o]=(0,i.useState)(!1),[m,x]=(0,i.useState)(null);return((0,i.useEffect)(()=>{t&&r&&(o(!0),x(null),(async()=>{try{let e=await n.E.analyzePair(r);c(e)}catch(e){console.error("Failed to fetch pair analysis:",e),x("Failed to load analysis data"),c({symbol:r,price:"EUR/USD"===r?1.08542:"GBP/USD"===r?1.26478:149.123,change24h:"EUR/USD"===r?.00123:"GBP/USD"===r?-.00234:.456,changePercent24h:"EUR/USD"===r?.11:"GBP/USD"===r?-.18:.31,volume:"EUR/USD"===r?1234567:"GBP/USD"===r?987654:2345678,high24h:"EUR/USD"===r?1.0875:"GBP/USD"===r?1.2689:149.89,low24h:"EUR/USD"===r?1.0832:"GBP/USD"===r?1.2621:148.75,rsi:65.2,macd:.0012,bollingerUpper:"EUR/USD"===r?1.089:"GBP/USD"===r?1.271:150.2,bollingerLower:"EUR/USD"===r?1.082:"GBP/USD"===r?1.258:148.1,support:"EUR/USD"===r?1.083:"GBP/USD"===r?1.26:148.5,resistance:"EUR/USD"===r?1.088:"GBP/USD"===r?1.268:149.5,trend:"bullish",sentiment:"positive",recommendations:["Strong upward momentum detected. Consider long positions with proper risk management.","RSI indicates overbought conditions. Monitor for potential reversal signals.","MACD shows bullish divergence. Trend continuation likely."]})}finally{o(!1)}})())},[t,r]),t)?(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-end z-50",children:(0,a.jsxs)("div",{className:"bg-white w-full max-w-md h-full overflow-y-auto",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[r," Analysis"]}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:"✕"})]})}),(0,a.jsx)("div",{className:"p-6",children:d?(0,a.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,a.jsxs)("span",{className:"ml-3 text-gray-600",children:["Analyzing ",r,"..."]})]}):l?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"text-2xl font-bold text-gray-900",children:l.price.toFixed(5)}),(0,a.jsxs)("span",{className:"text-sm font-medium ".concat(l.change24h>=0?"text-green-600":"text-red-600"),children:[l.change24h>=0?"+":"",l.change24h.toFixed(5),"(",l.changePercent24h>=0?"+":"",l.changePercent24h.toFixed(2),"%)"]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["High: ",l.high24h.toFixed(5)," | Low: ",l.low24h.toFixed(5)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Technical Indicators"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"RSI (14)"}),(0,a.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:l.rsi}),(0,a.jsx)("div",{className:"text-xs ".concat(l.rsi>70?"text-red-600":l.rsi<30?"text-green-600":"text-gray-600"),children:l.rsi>70?"Overbought":l.rsi<30?"Oversold":"Neutral"})]}),(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"MACD"}),(0,a.jsx)("div",{className:"text-lg font-semibold text-gray-900",children:l.macd.toFixed(4)}),(0,a.jsx)("div",{className:"text-xs ".concat(l.macd>0?"text-green-600":"text-red-600"),children:l.macd>0?"Bullish":"Bearish"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Bollinger Bands"}),(0,a.jsx)("div",{className:"bg-white border rounded-lg p-3",children:(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Upper:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:l.bollingerUpper.toFixed(5)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Lower:"}),(0,a.jsx)("span",{className:"ml-2 font-medium",children:l.bollingerLower.toFixed(5)})]})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Support & Resistance"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Support"}),(0,a.jsx)("div",{className:"text-lg font-semibold text-green-600",children:l.support.toFixed(5)})]}),(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-3",children:[(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Resistance"}),(0,a.jsx)("div",{className:"text-lg font-semibold text-red-600",children:l.resistance.toFixed(5)})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"Market Analysis"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Trend"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("bullish"===l.trend?"bg-green-100 text-green-800":"bearish"===l.trend?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:l.trend.charAt(0).toUpperCase()+l.trend.slice(1)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Sentiment"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("positive"===l.sentiment?"bg-green-100 text-green-800":"negative"===l.sentiment?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:l.sentiment.charAt(0).toUpperCase()+l.sentiment.slice(1)})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-gray-900 mb-3",children:"AI Recommendations"}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,a.jsx)("p",{className:"font-medium mb-2",children:"Current Analysis:"}),(0,a.jsx)("p",{className:"mb-2",children:"bullish"===l.trend?"Strong upward momentum detected. Consider long positions with proper risk management.":"bearish"===l.trend?"Downward pressure observed. Consider short positions or wait for better entry.":"Sideways movement detected. Range trading opportunities may be present."}),(0,a.jsxs)("p",{className:"text-xs text-blue-600",children:["RSI: ",l.rsi>70?"Overbought conditions":l.rsi<30?"Oversold conditions":"Neutral levels"," | MACD: ",l.macd>0?"Bullish divergence":"Bearish divergence"]})]})})]})]}):null})]})}):null}var o=e=>{let{className:t=""}=e,[s,r]=(0,i.useState)([]),[l,c]=(0,i.useState)([]),[d,o]=(0,i.useState)(null),[m,x]=(0,i.useState)(!1),[h,g]=(0,i.useState)(!1),[u,p]=(0,i.useState)(null),[y,b]=(0,i.useState)(""),[j,f]=(0,i.useState)(""),[v,N]=(0,i.useState)(null),[w,k]=(0,i.useState)(!1),[S,D]=(0,i.useState)("intro"),[_,C]=(0,i.useState)({strategy_types:["trend","range","breakout"],symbols:["EURUSD","GBPUSD","USDJPY"],timeframes:["1h","4h","1d"],count:5,market_conditions:void 0,risk_level:void 0});(0,i.useEffect)(()=>{let e=new Date;b(new Date(e.getTime()-2592e6).toISOString().split("T")[0]),f(e.toISOString().split("T")[0])},[]),(0,i.useEffect)(()=>{(async()=>{try{let[e,t]=await Promise.all([n.E.getSampleStrategies(),n.E.getStrategyOptions()]);e.success&&r(e.strategies),t.success&&N(t.options)}catch(e){console.error("Failed to load data:",e),p("Failed to load strategy data")}})()},[]);let P=e=>{c(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},A=async()=>{g(!0),p(null);try{let e=await n.E.generateStrategies(_);e.success?(r(e.strategies),k(!1),c([]),D("select")):p(e.error||"Failed to generate strategies")}catch(e){console.error("Strategy generation failed:",e),p("Strategy generation failed. Please try again.")}finally{g(!1)}},T=async()=>{if(0===l.length){p("Please select at least one strategy");return}if(!y||!j){p("Please select both start and end dates");return}x(!0),p(null);try{let e={strategies:s.filter(e=>l.includes(e.strategy_id)).map(e=>({strategy_id:e.strategy_id,strategy_name:e.strategy_name,strategy_type:e.strategy_type,module_path:e.module_path,class_name:e.class_name,parameters:e.parameters})),start_date:new Date(y).toISOString(),end_date:new Date(j).toISOString(),max_workers:4,timeout_seconds:300},t=await n.E.runBacktest(e);t.success?(o(t.results),D("results")):p(t.error||"Backtest failed")}catch(e){console.error("Backtest failed:",e),p("Backtest failed. Please try again.")}finally{x(!1)}},F=e=>(100*e).toFixed(1),U=()=>(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Configure Backtest"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Set the time period and parameters for your backtest"})]}),(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"p-6 bg-gray-50 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Backtest Period"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,a.jsx)("input",{type:"date",value:y,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),(0,a.jsx)("input",{type:"date",value:j,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,a.jsxs)("div",{className:"p-6 bg-blue-50 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Selected Strategies"}),(0,a.jsx)("div",{className:"space-y-2",children:s.filter(e=>l.includes(e.strategy_id)).map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center p-2 bg-white rounded border",children:[(0,a.jsx)("span",{className:"font-medium text-sm",children:e.strategy_name}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:[e.parameters.symbol," ",e.parameters.timeframe]})]},e.strategy_id))})]})]}),(0,a.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,a.jsx)("button",{onClick:()=>D("select"),className:"px-6 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back"}),(0,a.jsx)("button",{onClick:T,disabled:m||!y||!j,className:"px-8 py-2 rounded-lg font-semibold transition-all ".concat(!m&&y&&j?"bg-green-600 text-white hover:bg-green-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:m?"Running Backtest...":"Run Backtest"})]})]});return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 ".concat(t),children:[(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)("div",{className:"flex items-center justify-center space-x-4",children:[{key:"intro",label:"Start",icon:"\uD83C\uDFC1"},{key:"generate",label:"Generate",icon:"\uD83C\uDFAF"},{key:"select",label:"Select",icon:"✅"},{key:"configure",label:"Configure",icon:"⚙️"},{key:"run",label:"Run",icon:"\uD83D\uDE80"},{key:"results",label:"Results",icon:"\uD83D\uDCCA"}].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold ".concat(S===e.key?"bg-blue-600 text-white":["intro","generate","select","configure","run","results"].indexOf(S)>t?"bg-green-500 text-white":"bg-gray-200 text-gray-500"),children:["intro","generate","select","configure","run","results"].indexOf(S)>t?"✓":e.icon}),(0,a.jsx)("span",{className:"ml-2 text-sm font-medium ".concat(S===e.key?"text-blue-600":"text-gray-500"),children:e.label}),t<5&&(0,a.jsx)("div",{className:"w-8 h-0.5 mx-4 ".concat(["intro","generate","select","configure","run","results"].indexOf(S)>t?"bg-green-500":"bg-gray-200")})]},e.key))})}),u&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"text-red-400 mr-3",children:"⚠️"}),(0,a.jsx)("div",{className:"text-red-700",children:u})]})}),"intro"===S&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("div",{className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("span",{className:"text-4xl",children:"\uD83E\uDDEA"})}),(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Strategy Backtesting Lab"}),(0,a.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Test and validate your trading strategies with historical data. Generate new strategies or use existing ones to find the best performing approaches."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"p-6 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"\uD83C\uDFAF"}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Generate Strategies"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Create new trading strategies with customizable parameters and risk profiles"})]}),(0,a.jsxs)("div",{className:"p-6 bg-green-50 rounded-lg border border-green-200",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"⚡"}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Test Performance"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Run backtests on historical data to validate strategy performance"})]}),(0,a.jsxs)("div",{className:"p-6 bg-purple-50 rounded-lg border border-purple-200",children:[(0,a.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDCCA"}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Analyze Results"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Compare strategies with detailed metrics and rankings"})]})]}),(0,a.jsxs)("div",{className:"space-x-4",children:[(0,a.jsx)("button",{onClick:()=>D("generate"),className:"px-8 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Start with Sample Strategies"}),(0,a.jsx)("button",{onClick:()=>D("generate"),className:"px-8 py-3 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors",children:"Generate New Strategies"})]})]}),"generate"===S&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Generate Trading Strategies"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Configure your strategy preferences and generate new trading strategies"})]}),v&&(0,a.jsxs)("div",{className:"p-6 bg-green-50 rounded-lg border border-green-200",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Strategy Types"}),(0,a.jsx)("div",{className:"space-y-2",children:v.strategy_types.map(e=>(0,a.jsxs)("label",{className:"flex items-center p-2 hover:bg-green-100 rounded",children:[(0,a.jsx)("input",{type:"checkbox",checked:_.strategy_types.includes(e),onChange:t=>{t.target.checked?C(t=>({...t,strategy_types:[...t.strategy_types,e]})):C(t=>({...t,strategy_types:t.strategy_types.filter(t=>t!==e)}))},className:"mr-3"}),(0,a.jsx)("span",{className:"text-sm capitalize font-medium",children:e.replace("_"," ")})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Currency Pairs"}),(0,a.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:v.symbols.map(e=>(0,a.jsxs)("label",{className:"flex items-center p-2 hover:bg-green-100 rounded",children:[(0,a.jsx)("input",{type:"checkbox",checked:_.symbols.includes(e),onChange:t=>{t.target.checked?C(t=>({...t,symbols:[...t.symbols,e]})):C(t=>({...t,symbols:t.symbols.filter(t=>t!==e)}))},className:"mr-3"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Timeframes"}),(0,a.jsx)("div",{className:"space-y-2",children:v.timeframes.map(e=>(0,a.jsxs)("label",{className:"flex items-center p-2 hover:bg-green-100 rounded",children:[(0,a.jsx)("input",{type:"checkbox",checked:_.timeframes.includes(e),onChange:t=>{t.target.checked?C(t=>({...t,timeframes:[...t.timeframes,e]})):C(t=>({...t,timeframes:t.timeframes.filter(t=>t!==e)}))},className:"mr-3"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Strategies"}),(0,a.jsx)("input",{type:"number",min:"1",max:"20",value:_.count,onChange:e=>C(t=>({...t,count:parseInt(e.target.value)||5})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Market Conditions"}),(0,a.jsxs)("select",{value:_.market_conditions||"",onChange:e=>C(t=>({...t,market_conditions:e.target.value||void 0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,a.jsx)("option",{value:"",children:"Any Market"}),v.market_conditions.map(e=>(0,a.jsx)("option",{value:e,className:"capitalize",children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Risk Level"}),(0,a.jsxs)("select",{value:_.risk_level||"",onChange:e=>C(t=>({...t,risk_level:e.target.value||void 0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[(0,a.jsx)("option",{value:"",children:"Any Risk"}),v.risk_levels.map(e=>(0,a.jsx)("option",{value:e,className:"capitalize",children:e},e))]})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex justify-center space-x-4",children:[(0,a.jsx)("button",{onClick:()=>D("intro"),className:"px-6 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back"}),(0,a.jsx)("button",{onClick:A,disabled:h||0===_.strategy_types.length||0===_.symbols.length||0===_.timeframes.length,className:"px-8 py-2 rounded-lg font-semibold transition-all ".concat(h||0===_.strategy_types.length||0===_.symbols.length||0===_.timeframes.length?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:h?"Generating...":"Generate ".concat(_.count," Strategies")})]})]})]}),"select"===S&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Select Strategies to Test"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Choose which strategies you want to backtest"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(e=>(0,a.jsxs)("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-all ".concat(l.includes(e.strategy_id)?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>P(e.strategy_id),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 text-sm",children:e.strategy_name}),(0,a.jsx)("input",{type:"checkbox",checked:l.includes(e.strategy_id),onChange:()=>P(e.strategy_id),className:"ml-2"})]}),(0,a.jsxs)("div",{className:"space-y-1 text-xs text-gray-600",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Type:"}),(0,a.jsx)("span",{className:"capitalize font-medium",children:e.strategy_type})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Symbol:"}),(0,a.jsx)("span",{className:"font-medium",children:e.parameters.symbol})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Timeframe:"}),(0,a.jsx)("span",{className:"font-medium",children:e.parameters.timeframe})]}),e.market_conditions&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Market:"}),(0,a.jsx)("span",{className:"capitalize font-medium",children:e.market_conditions})]}),e.risk_level&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Risk:"}),(0,a.jsx)("span",{className:"capitalize font-medium",children:e.risk_level})]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2 line-clamp-2",children:e.description})]},e.strategy_id))}),(0,a.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,a.jsx)("button",{onClick:()=>D("generate"),className:"px-6 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back"}),(0,a.jsxs)("button",{onClick:()=>D("configure"),disabled:0===l.length,className:"px-8 py-2 rounded-lg font-semibold transition-all ".concat(0===l.length?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:["Configure Backtest (",l.length," selected)"]})]})]}),"configure"===S&&U(),"run"===S&&U(),"results"===S&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Backtest Results"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Analysis of your strategy performance"})]}),d&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:d.summary.total_strategies}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Strategies Tested"})]}),(0,a.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:d.summary.successful_strategies}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Successful"})]}),(0,a.jsxs)("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[F(d.summary.average_score),"%"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Avg Score"})]}),(0,a.jsxs)("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-200",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:d.summary.total_trades}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Total Trades"})]})]}),d.rankings&&d.rankings.length>0&&(0,a.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Strategy Rankings"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Strategy"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trades"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sharpe"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:d.rankings.map((e,t)=>{var s,r,l;return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",e.rank]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.strategy_name}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.strategy_type})]}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[F(e.composite_score),"%"]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(s=e.performance_metrics)||void 0===s?void 0:s.total_trades)||"N/A"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(r=e.performance_metrics)||void 0===r?void 0:r.win_rate)?F(e.performance_metrics.win_rate)+"%":"N/A"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(null===(l=e.performance_metrics)||void 0===l?void 0:l.sharpe_ratio)?e.performance_metrics.sharpe_ratio.toFixed(2):"N/A"})]},e.strategy_id)})})]})})]})]}),(0,a.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,a.jsx)("button",{onClick:()=>D("intro"),className:"px-8 py-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Start New Backtest"}),(0,a.jsx)("button",{onClick:()=>D("generate"),className:"px-8 py-2 bg-green-600 text-white rounded-lg font-semibold hover:bg-green-700 transition-colors",children:"Generate More Strategies"})]})]})]})},m=()=>{let[e,t]=(0,i.useState)([]),[s,r]=(0,i.useState)([]),[l,n]=(0,i.useState)({strategy_count:10,strategy_types:["trend_following","mean_reversion","breakout"],currency_pairs:["EURUSD","GBPUSD","USDJPY"],timeframes:["H1","H4","D1"],enable_parallel_processing:!0,max_workers:4,batch_size:5,timeout_seconds:300,store_results:!0,cleanup_old_results:!0,days_to_keep:30,enable_logging:!0,log_level:"INFO",enable_metrics:!0}),[c,d]=(0,i.useState)(!1),[o,m]=(0,i.useState)(null),[x,h]=(0,i.useState)("active"),g=async()=>{try{let e=await fetch("http://localhost:8000/api/v1/workflow/active");if(e.ok){let s=await e.json();t(s)}}catch(e){console.error("Failed to fetch active workflows:",e)}},u=async()=>{try{let e=await fetch("http://localhost:8000/api/v1/workflow/history?limit=20");if(e.ok){let t=await e.json();r(t)}}catch(e){console.error("Failed to fetch workflow history:",e)}},p=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];d(!0),m(null);try{let t=await fetch(e?"http://localhost:8000/api/v1/workflow/start-sync":"http://localhost:8000/api/v1/workflow/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(t.ok)await t.json(),e&&await u(),await g();else{let e=await t.json();m(e.detail||"Failed to start workflow")}}catch(e){m("Network error: "+e.message)}finally{d(!1)}},y=async e=>{try{(await fetch("http://localhost:8000/api/v1/workflow/cancel/".concat(e),{method:"POST"})).ok&&await g()}catch(e){console.error("Failed to cancel workflow:",e)}},b=async()=>{await Promise.all([g(),u()])};(0,i.useEffect)(()=>{let e=setInterval(b,5e3);return()=>clearInterval(e)},[]),(0,i.useEffect)(()=>{b()},[]);let j=e=>{switch(e){case"completed":return(0,a.jsx)("span",{className:"text-green-500",children:"✅"});case"failed":return(0,a.jsx)("span",{className:"text-red-500",children:"❌"});case"running":return(0,a.jsx)("span",{className:"text-blue-500 animate-spin",children:"\uD83D\uDD04"});case"cancelled":return(0,a.jsx)("span",{className:"text-gray-500",children:"⏹️"});default:return(0,a.jsx)("span",{className:"text-gray-500",children:"⏰"})}},f=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"running":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Validation Workflow Dashboard"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:b,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"\uD83D\uDD04 Refresh"}),(0,a.jsx)("button",{onClick:()=>p(!1),disabled:c,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:"▶️ Start Async"}),(0,a.jsx)("button",{onClick:()=>p(!0),disabled:c,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:"▶️ Start Sync"})]})]}),o&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("span",{className:"text-red-500 mr-2",children:"❌"}),(0,a.jsx)("span",{className:"text-red-700",children:o})]})}),(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,a.jsxs)("button",{onClick:()=>h("active"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("active"===x?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["\uD83D\uDD04 Active Workflows (",e.length,")"]}),(0,a.jsxs)("button",{onClick:()=>h("history"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("history"===x?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["\uD83D\uDCDA History (",s.length,")"]}),(0,a.jsx)("button",{onClick:()=>h("config"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("config"===x?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"⚙️ Configuration"})]})}),"active"===x&&(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Active Workflows"})}),(0,a.jsx)("div",{className:"p-6",children:0===e.length?(0,a.jsx)("p",{className:"text-gray-500",children:"No active workflows"}):(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[j(e.status),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.workflow_id}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.message})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(f(e.status)),children:e.status}),"running"===e.status&&(0,a.jsx)("button",{onClick:()=>y(e.workflow_id),className:"px-3 py-1 text-xs border border-gray-300 rounded hover:bg-gray-50",children:"⏹️ Cancel"})]})]}),"running"===e.status&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-2",children:[(0,a.jsx)("span",{children:e.current_stage||"Initializing"}),(0,a.jsxs)("span",{children:[e.progress_percentage.toFixed(1),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.progress_percentage,"%")}})})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Generated"}),(0,a.jsx)("p",{className:"font-medium",children:e.strategies_generated})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Validated"}),(0,a.jsx)("p",{className:"font-medium",children:e.strategies_validated})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Passed"}),(0,a.jsx)("p",{className:"font-medium",children:e.strategies_passed})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Stored"}),(0,a.jsx)("p",{className:"font-medium",children:e.strategies_stored})]})]}),e.errors.length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-sm text-red-600 font-medium",children:"Errors:"}),(0,a.jsx)("ul",{className:"text-sm text-red-600 list-disc list-inside",children:e.errors.map((e,t)=>(0,a.jsx)("li",{children:e},t))})]}),e.warnings.length>0&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-sm text-yellow-600 font-medium",children:"Warnings:"}),(0,a.jsx)("ul",{className:"text-sm text-yellow-600 list-disc list-inside",children:e.warnings.map((e,t)=>(0,a.jsx)("li",{children:e},t))})]})]},e.workflow_id))})})]}),"history"===x&&(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Workflow History"})}),(0,a.jsx)("div",{className:"p-6",children:0===s.length?(0,a.jsx)("p",{className:"text-gray-500",children:"No workflow history"}):(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[j(e.status),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.workflow_id}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.message}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleString()})]})]}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(f(e.status)),children:e.status})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Duration"}),(0,a.jsxs)("p",{className:"font-medium",children:[e.metrics.duration.toFixed(2),"s"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Generated"}),(0,a.jsx)("p",{className:"font-medium",children:e.metrics.strategies_generated})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Passed"}),(0,a.jsx)("p",{className:"font-medium",children:e.metrics.strategies_passed})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Stored"}),(0,a.jsx)("p",{className:"font-medium",children:e.metrics.strategies_stored})]})]}),e.metrics.strategies_per_second>0&&(0,a.jsxs)("div",{className:"mt-4 text-sm",children:[(0,a.jsx)("p",{className:"text-gray-500",children:"Performance"}),(0,a.jsxs)("p",{className:"font-medium",children:[e.metrics.strategies_per_second.toFixed(2)," strategies/second"]})]})]},e.workflow_id))})})]}),"config"===x&&(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Workflow Configuration"})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Strategy Count"}),(0,a.jsx)("input",{type:"number",value:l.strategy_count,onChange:e=>n({...l,strategy_count:parseInt(e.target.value)}),className:"w-full p-2 border rounded",min:"1",max:"100"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Strategy Types"}),(0,a.jsx)("div",{className:"space-y-2",children:["trend_following","mean_reversion","breakout","scalping"].map(e=>(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:l.strategy_types.includes(e),onChange:t=>{t.target.checked?n({...l,strategy_types:[...l.strategy_types,e]}):n({...l,strategy_types:l.strategy_types.filter(t=>t!==e)})},className:"mr-2"}),(0,a.jsx)("span",{className:"text-sm capitalize",children:e.replace("_"," ")})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Currency Pairs"}),(0,a.jsx)("div",{className:"space-y-2",children:["EURUSD","GBPUSD","USDJPY","AUDUSD","USDCAD","NZDUSD"].map(e=>(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:l.currency_pairs.includes(e),onChange:t=>{t.target.checked?n({...l,currency_pairs:[...l.currency_pairs,e]}):n({...l,currency_pairs:l.currency_pairs.filter(t=>t!==e)})},className:"mr-2"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},e))})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Timeframes"}),(0,a.jsx)("div",{className:"space-y-2",children:["M1","M5","M15","M30","H1","H4","D1"].map(e=>(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:l.timeframes.includes(e),onChange:t=>{t.target.checked?n({...l,timeframes:[...l.timeframes,e]}):n({...l,timeframes:l.timeframes.filter(t=>t!==e)})},className:"mr-2"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Max Workers"}),(0,a.jsx)("input",{type:"number",value:l.max_workers,onChange:e=>n({...l,max_workers:parseInt(e.target.value)}),className:"w-full p-2 border rounded",min:"1",max:"16"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Timeout (seconds)"}),(0,a.jsx)("input",{type:"number",value:l.timeout_seconds,onChange:e=>n({...l,timeout_seconds:parseFloat(e.target.value)}),className:"w-full p-2 border rounded",min:"30",max:"3600"})]})]})]})})]})]})},x=e=>{let{symbol:t="EURUSD",days:s=1}=e,[r,l]=(0,i.useState)([]),[n,c]=(0,i.useState)(!0),[d,o]=(0,i.useState)(null),[m,x]=(0,i.useState)("1m"),[h,g]=(0,i.useState)(!0),[u,p]=(0,i.useState)(!1),y=(e,t)=>{let s=[],a=new Date;a.setDate(a.getDate()-t);let r=86400*t,l=1.1;e.includes("GBP")&&(l=1.26),e.includes("JPY")&&(l=149),e.includes("CHF")&&(l=.875),e.includes("AUD")&&(l=.652),e.includes("CAD")&&(l=1.365);for(let e=0;e<r;e++){let t=new Date(a.getTime()+1e3*e),r=1e-4+2e-4*Math.random(),i=(l+=(Math.random()-.5)*1e-4)-r/2,n=l+r/2,c=(i+n)/2,d=t.getHours(),o=d>=8&&d<=17||d>=21&&d<=23?Math.floor(100*Math.random())+10:Math.floor(20*Math.random())+1;s.push({timestamp:t.toISOString(),bid:parseFloat(i.toFixed(5)),ask:parseFloat(n.toFixed(5)),spread:parseFloat(r.toFixed(5)),mid:parseFloat(c.toFixed(5)),volume:o})}return s};(0,i.useEffect)(()=>{(async()=>{c(!0),o(null);try{await new Promise(e=>setTimeout(e,1e3));let e=y(t,s);l(e)}catch(e){o("Failed to load tick data"),console.error("Error loading tick data:",e)}finally{c(!1)}})()},[t,s]);let b=((e,t)=>{let s="1m"===t?60:"5m"===t?300:"15m"===t?900:3600,a={};return e.forEach(e=>{let t=new Date(Math.floor(new Date(e.timestamp).getTime()/(1e3*s))*(1e3*s)).toISOString();a[t]||(a[t]=[]),a[t].push(e)}),Object.entries(a).map(e=>{let[t,s]=e,a=s.reduce((e,t)=>e+t.bid,0)/s.length,r=s.reduce((e,t)=>e+t.ask,0)/s.length,l=s.reduce((e,t)=>e+t.mid,0)/s.length,i=s.reduce((e,t)=>e+t.spread,0)/s.length,n=s.reduce((e,t)=>e+t.volume,0);return{timestamp:t,bid:parseFloat(a.toFixed(5)),ask:parseFloat(r.toFixed(5)),spread:parseFloat(i.toFixed(5)),mid:parseFloat(l.toFixed(5)),volume:n}}).sort((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime())})(r,m),j=r[r.length-1],f=r.reduce((e,t)=>e+t.spread,0)/r.length,v=r.reduce((e,t)=>e+t.volume,0);return n?(0,a.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mr-3"}),(0,a.jsx)("span",{className:"text-gray-600",children:"Loading tick data..."})]})}):d?(0,a.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,a.jsxs)("div",{className:"text-center text-red-600",children:[(0,a.jsx)("div",{className:"text-4xl mb-2",children:"⚠️"}),(0,a.jsx)("p",{children:d})]})}):(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Tick Data Visualization"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[t," - ",s," day",s>1?"s":""," of data"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("label",{className:"text-sm text-gray-600",children:"Timeframe:"}),(0,a.jsxs)("select",{value:m,onChange:e=>x(e.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm",children:[(0,a.jsx)("option",{value:"1m",children:"1 Minute"}),(0,a.jsx)("option",{value:"5m",children:"5 Minutes"}),(0,a.jsx)("option",{value:"15m",children:"15 Minutes"}),(0,a.jsx)("option",{value:"1h",children:"1 Hour"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:h,onChange:e=>g(e.target.checked),className:"mr-2"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Show Spread"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:u,onChange:e=>p(e.target.checked),className:"mr-2"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Show Volume"})]})]})]})]})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-blue-600 font-medium",children:"Current Price"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-900",children:j?j.mid.toFixed(5):"0.00000"}),(0,a.jsxs)("div",{className:"text-xs text-blue-600",children:["Bid: ",j?j.bid.toFixed(5):"0.00000"," | Ask: ",j?j.ask.toFixed(5):"0.00000"]})]}),(0,a.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-green-600 font-medium",children:"Average Spread"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-green-900",children:[(1e4*f).toFixed(1)," pips"]}),(0,a.jsx)("div",{className:"text-xs text-green-600",children:f.toFixed(5)})]}),(0,a.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-purple-600 font-medium",children:"Total Ticks"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-900",children:r.length.toLocaleString()}),(0,a.jsxs)("div",{className:"text-xs text-purple-600",children:[b.length," aggregated bars"]})]}),(0,a.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg",children:[(0,a.jsx)("div",{className:"text-sm text-orange-600 font-medium",children:"Total Volume"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-900",children:v.toLocaleString()}),(0,a.jsxs)("div",{className:"text-xs text-orange-600",children:["Avg: ",Math.round(v/r.length)]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Price Movement"}),(0,a.jsx)("div",{className:"h-64 bg-gray-50 rounded-lg p-4 relative",children:(0,a.jsx)("div",{className:"h-full flex items-end space-x-1",children:b.slice(-100).map((e,t)=>{let s=(e.mid-Math.min(...b.slice(-100).map(e=>e.mid)))/(Math.max(...b.slice(-100).map(e=>e.mid))-Math.min(...b.slice(-100).map(e=>e.mid)))*100;return(0,a.jsx)("div",{className:"bg-blue-500 rounded-sm flex-1",style:{height:"".concat(Math.max(s,1),"%")},title:"".concat(new Date(e.timestamp).toLocaleTimeString(),": ").concat(e.mid.toFixed(5))},t)})})})]}),h&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Spread Distribution"}),(0,a.jsx)("div",{className:"h-32 bg-gray-50 rounded-lg p-4 relative",children:(0,a.jsx)("div",{className:"h-full flex items-end space-x-1",children:b.slice(-100).map((e,t)=>{let s=e.spread/Math.max(...b.slice(-100).map(e=>e.spread))*100;return(0,a.jsx)("div",{className:"bg-red-500 rounded-sm flex-1",style:{height:"".concat(Math.max(s,1),"%")},title:"".concat(new Date(e.timestamp).toLocaleTimeString(),": ").concat((1e4*e.spread).toFixed(1)," pips")},t)})})})]}),u&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Volume Profile"}),(0,a.jsx)("div",{className:"h-32 bg-gray-50 rounded-lg p-4 relative",children:(0,a.jsx)("div",{className:"h-full flex items-end space-x-1",children:b.slice(-100).map((e,t)=>{let s=e.volume/Math.max(...b.slice(-100).map(e=>e.volume))*100;return(0,a.jsx)("div",{className:"bg-green-500 rounded-sm flex-1",style:{height:"".concat(Math.max(s,1),"%")},title:"".concat(new Date(e.timestamp).toLocaleTimeString(),": ").concat(e.volume)},t)})})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Recent Ticks"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Time"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Bid"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Ask"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Mid"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Spread (pips)"}),(0,a.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Volume"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:b.slice(-10).reverse().map((e,t)=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:new Date(e.timestamp).toLocaleTimeString()}),(0,a.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:e.bid.toFixed(5)}),(0,a.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:e.ask.toFixed(5)}),(0,a.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:e.mid.toFixed(5)}),(0,a.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:(1e4*e.spread).toFixed(1)}),(0,a.jsx)("td",{className:"px-4 py-2 text-sm text-gray-900",children:e.volume})]},t))})]})})]})]})]})};function h(){let[e,t]=(0,i.useState)("overview"),[s,r]=(0,i.useState)(null),[h,g]=(0,i.useState)(!1),[u,p]=(0,i.useState)(!1),[y,b]=(0,i.useState)([]),[j,f]=(0,i.useState)([]),[v,N]=(0,i.useState)(null),[w,k]=(0,i.useState)(!0),[S,D]=(0,i.useState)(null),[_,C]=(0,i.useState)(""),[P,A]=(0,i.useState)([]),T=e=>t(e);(0,i.useEffect)(()=>{let e=()=>{C(new Date().toLocaleTimeString())};e();let t=setInterval(e,1e3);return()=>clearInterval(t)},[]),(0,i.useEffect)(()=>{(async()=>{k(!0);try{let[l,i,c,d]=await Promise.all([n.E.getStrategies().catch(()=>[]),n.E.getMarketData().catch(()=>[{symbol:"EUR/USD",price:1.08542,currentPrice:1.08542,change24h:.00123,changePercent24h:.11,volume:1234567,high24h:1.0875,low24h:1.0832,timestamp:new Date().toISOString()},{symbol:"GBP/USD",price:1.26478,currentPrice:1.26478,change24h:-.00234,changePercent24h:-.18,volume:987654,high24h:1.2689,low24h:1.2621,timestamp:new Date().toISOString()},{symbol:"USD/JPY",price:149.123,currentPrice:149.123,change24h:.456,changePercent24h:.31,volume:2345678,high24h:149.89,low24h:148.75,timestamp:new Date().toISOString()},{symbol:"USD/CHF",price:.875,currentPrice:.875,change24h:-.001,changePercent24h:-.11,volume:75e4,high24h:.8765,low24h:.8735,timestamp:new Date().toISOString()},{symbol:"AUD/USD",price:.652,currentPrice:.652,change24h:.0015,changePercent24h:.23,volume:65e4,high24h:.6545,low24h:.6495,timestamp:new Date().toISOString()},{symbol:"USD/CAD",price:1.365,currentPrice:1.365,change24h:-.002,changePercent24h:-.15,volume:58e4,high24h:1.368,low24h:1.362,timestamp:new Date().toISOString()}]),n.E.getPerformanceSummary().catch(()=>({totalValue:12450,totalReturn:245.3,totalReturnPercent:2.01,activeStrategies:3,totalTrades:47,winRate:68.1})),fetch("http://localhost:8000/api/v1/economic-calendar/events/simple").then(e=>e.json()).catch(()=>({events:[]}))]),o=Array.isArray(l)?l:[];b(o),f(i),A(d.events||[]);let m=c;if(c&&"object"==typeof c&&"data"in c){var e,t,s,a,r;let l=c.data;m={totalValue:(null===(e=l.top_performer)||void 0===e?void 0:e.current_performance)||1e4,totalReturn:(null===(t=l.top_performer)||void 0===t?void 0:t.current_performance)-1e4||0,totalReturnPercent:((null===(s=l.top_performer)||void 0===s?void 0:s.current_performance)-1e4)/1e4*100||0,activeStrategies:l.total_strategies||0,totalTrades:(null===(a=l.top_performer)||void 0===a?void 0:a.total_trades)||0,winRate:(null===(r=l.top_performer)||void 0===r?void 0:r.win_rate)||0}}N(m)}catch(e){console.error("Failed to load dashboard data:",e),D("Failed to load dashboard data"),N({totalValue:1e4,totalReturn:0,totalReturnPercent:0,activeStrategies:0,totalTrades:0,winRate:0})}finally{k(!1)}})()},[]);let F=e=>{r(e),p(!0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(l(),{children:[(0,a.jsx)("title",{children:"AXF Bot 0 - AI-Powered Forex Trading Dashboard"}),(0,a.jsx)("meta",{name:"description",content:"Professional AI-powered forex trading system with real-time market data, strategy generation, and portfolio management"})]}),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-sm",children:"AXF"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"AXF Bot 0"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"AI-Powered Forex Trading"})]})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full bg-green-500"}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"System Online"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Last Update"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:_||"..."})]})]})]})})}),(0,a.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("nav",{className:"flex space-x-8",children:[(0,a.jsxs)("button",{onClick:()=>T("overview"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("overview"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDCCA"}),"Overview"]}),(0,a.jsxs)("button",{onClick:()=>T("market"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("market"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDCB9"}),"Market Data"]}),(0,a.jsxs)("button",{onClick:()=>T("strategies"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("strategies"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83E\uDD16"}),"AI Strategies"]}),(0,a.jsxs)("button",{onClick:()=>T("portfolio"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("portfolio"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDCBC"}),"Portfolio"]}),(0,a.jsxs)("button",{onClick:()=>T("analytics"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("analytics"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDCC8"}),"Analytics"]}),(0,a.jsxs)("button",{onClick:()=>T("backtesting"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("backtesting"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83E\uDDEA"}),"Backtesting"]}),(0,a.jsxs)("button",{onClick:()=>T("workflow"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("workflow"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDD04"}),"Workflow"]}),(0,a.jsxs)("button",{onClick:()=>T("tickdata"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("tickdata"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)("span",{className:"mr-2",children:"\uD83D\uDCCA"}),"Tick Data"]}),(0,a.jsxs)("button",{onClick:()=>T("settings"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("settings"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,a.jsx)("span",{className:"mr-2",children:"⚙️"}),"Settings"]})]})})}),(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold",children:"$"})})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Pairs"}),(0,a.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:w?"...":j.length})]})})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold",children:"\uD83D\uDCCA"})})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Strategies"}),(0,a.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:w?"...":Array.isArray(y)?y.filter(e=>"active"===e.status).length:0})]})})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-purple-500 rounded-md flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold",children:"\uD83D\uDCB0"})})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Portfolio Value"}),(0,a.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:w?"...":v&&"number"==typeof v.totalValue?"$".concat(v.totalValue.toLocaleString()):"$0.00"})]})})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-yellow-500 rounded-md flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold",children:"\uD83D\uDCC8"})})}),(0,a.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"24h P&L"}),(0,a.jsx)("dd",{className:"text-lg font-medium ".concat(v&&"number"==typeof v.totalReturn&&v.totalReturn>=0?"text-green-600":"text-red-600"),children:w?"...":v&&"number"==typeof v.totalReturn?"".concat(v.totalReturn>=0?"+":"","$").concat(v.totalReturn.toFixed(2)):"$0.00"})]})})]})})})]}),P.length>0&&(0,a.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"\uD83D\uDCC5 Upcoming Economic Events"}),(0,a.jsx)("div",{className:"space-y-3",children:P.slice(0,3).map((e,t)=>{var s;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("high"===e.impact?"bg-red-100 text-red-800":"medium"===e.impact?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:(null===(s=e.impact)||void 0===s?void 0:s.toUpperCase())||"LOW"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["(",e.country,")"]})]}),(0,a.jsx)("div",{className:"text-xs text-gray-600 mt-1",children:e.event_time?new Date(e.event_time).toLocaleString():"Time TBD"}),e.trading_opportunities&&e.trading_opportunities.length>0&&(0,a.jsxs)("div",{className:"text-xs text-blue-600 mt-1",children:["\uD83D\uDCA1 ",e.trading_opportunities[0]]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.market_impact_score?"".concat(Math.round(100*e.market_impact_score),"%"):"N/A"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Impact"})]})]},t)})})]})}),(0,a.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900 mb-4",children:"Quick Actions"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsx)("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-4 py-3 rounded-md hover:bg-blue-700 transition-colors text-left",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-2xl mr-3",children:"\uD83E\uDD16"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Generate Strategy"}),(0,a.jsx)("div",{className:"text-sm opacity-90",children:"AI-powered strategy creation"})]})]})}),(0,a.jsx)("button",{onClick:()=>T("market"),className:"bg-green-600 text-white px-4 py-3 rounded-md hover:bg-green-700 transition-colors text-left",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-2xl mr-3",children:"\uD83D\uDCCA"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Market Analysis"}),(0,a.jsx)("div",{className:"text-sm opacity-90",children:"Real-time market insights"})]})]})}),(0,a.jsx)("button",{onClick:()=>T("settings"),className:"bg-purple-600 text-white px-4 py-3 rounded-md hover:bg-purple-700 transition-colors text-left",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-2xl mr-3",children:"⚙️"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Configure Bot"}),(0,a.jsx)("div",{className:"text-sm opacity-90",children:"Adjust trading parameters"})]})]})})]})]})})]}),"market"===e&&(0,a.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Live Market Data"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Live"})]})]}),(0,a.jsxs)("div",{className:"overflow-x-auto",children:[(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Symbol"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"24h Change"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"24h %"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Volume"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:w?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500",children:(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mr-3"}),"Loading market data..."]})})}):j.length>0?j.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.symbol})}),(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:"number"==typeof e.price?e.price.toFixed(5):"0.00000"}),(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm ".concat("number"==typeof e.change24h&&e.change24h>=0?"text-green-600":"text-red-600"),children:"number"==typeof e.change24h?(e.change24h>=0?"+":"")+e.change24h.toFixed(5):"+0.00000"}),(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm ".concat("number"==typeof e.changePercent24h&&e.changePercent24h>=0?"text-green-600":"text-red-600"),children:"number"==typeof e.changePercent24h?(e.changePercent24h>=0?"+":"")+e.changePercent24h.toFixed(2)+"%":"+0.00%"}),(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:"number"==typeof e.volume?e.volume.toLocaleString():"0"}),(0,a.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsx)("button",{onClick:()=>F(e.symbol),className:"text-blue-600 hover:text-blue-900",children:"Analyze"})})]},e.symbol)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500",children:S?"Error: ".concat(S):"No market data available"})})})]}),s&&(0,a.jsxs)("div",{className:"mt-4 text-sm text-gray-700",children:["Selected pair: ",(0,a.jsx)("span",{className:"font-medium",children:s})]})]})]})}),"strategies"===e&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"AI Strategy Generation"}),(0,a.jsx)("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"+ Generate New Strategy"})]}),Array.isArray(y)&&y.length>0?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"text-md font-semibold text-gray-900",children:"AI Strategies"}),y.map(e=>{var t,s,r;return(0,a.jsx)("div",{className:"border rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h5",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 rounded",children:(null===(t=e.parameters)||void 0===t?void 0:t.marketConditions)||"Unknown"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 rounded",children:(null===(s=e.parameters)||void 0===s?void 0:s.riskLevel)||"Unknown"}),(0,a.jsx)("span",{className:"px-2 py-1 bg-gray-100 rounded",children:(null===(r=e.parameters)||void 0===r?void 0:r.timeframe)||"Unknown"})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Created: ",e.createdAt?new Date(e.createdAt).toLocaleString():"Unknown"]}),e.performance&&(0,a.jsxs)("div",{className:"mt-2 flex gap-4 text-xs",children:[(0,a.jsxs)("span",{children:["Return: ","number"==typeof e.performance.totalReturn?e.performance.totalReturn.toFixed(2):"0.00","%"]}),(0,a.jsxs)("span",{children:["Sharpe: ","number"==typeof e.performance.sharpeRatio?e.performance.sharpeRatio.toFixed(2):"0.00"]}),(0,a.jsxs)("span",{children:["Max DD: ","number"==typeof e.performance.maxDrawdown?e.performance.maxDrawdown.toFixed(2):"0.00","%"]})]})]}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"testing"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status})]})},e.id)})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-gray-400 text-4xl mb-4",children:"\uD83E\uDD16"}),(0,a.jsx)("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Strategies Generated Yet"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:'Click "Generate New Strategy" to create your first AI-powered trading strategy.'}),(0,a.jsx)("button",{onClick:()=>g(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors",children:"Generate Your First Strategy"})]})]})})}),"portfolio"===e&&(0,a.jsx)("div",{className:"bg-white shadow rounded-lg p-6 text-gray-700",children:"Portfolio view coming soon."}),"analytics"===e&&(0,a.jsx)("div",{className:"bg-white shadow rounded-lg p-6 text-gray-700",children:"Analytics view coming soon."}),"backtesting"===e&&(0,a.jsx)(o,{}),"workflow"===e&&(0,a.jsx)(m,{}),"tickdata"===e&&(0,a.jsx)(x,{symbol:"EURUSD",days:1}),"settings"===e&&(0,a.jsx)("div",{className:"bg-white shadow rounded-lg p-6 text-gray-700",children:"Settings view coming soon."})]})]}),(0,a.jsx)(c,{isOpen:h,onClose:()=>g(!1),onGenerate:e=>{b(t=>[...t,e])}}),(0,a.jsx)(d,{isOpen:u,onClose:()=>p(!1),pair:s})]})}},7663:function(e){!function(){var t={229:function(e){var t,s,a,r=e.exports={};function l(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function n(e){if(t===setTimeout)return setTimeout(e,0);if((t===l||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(s){try{return t.call(null,e,0)}catch(s){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:l}catch(e){t=l}try{s="function"==typeof clearTimeout?clearTimeout:i}catch(e){s=i}}();var c=[],d=!1,o=-1;function m(){d&&a&&(d=!1,a.length?c=a.concat(c):o=-1,c.length&&x())}function x(){if(!d){var e=n(m);d=!0;for(var t=c.length;t;){for(a=c,c=[];++o<t;)a&&a[o].run();o=-1,t=c.length}a=null,d=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===i||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];c.push(new h(e,t)),1!==c.length||d||n(x)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},s={};function a(e){var r=s[e];if(void 0!==r)return r.exports;var l=s[e]={exports:{}},i=!0;try{t[e](l,l.exports,a),i=!1}finally{i&&delete s[e]}return l.exports}a.ab="//";var r=a(229);e.exports=r}()},9008:function(e,t,s){e.exports=s(3867)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);